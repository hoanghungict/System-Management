{
    "roll_call_apis": {
        "base_url": "http://localhost:8000/api/v1",
        "authentication": {
            "note": "Tất cả API roll call đều cần JWT token trong header Authorization: Bearer {token}",
            "header": "Authorization: Bearer {jwt_token}"
        },
        "endpoints": {
            "1_get_classrooms": {
                "method": "GET",
                "url": "/roll-calls/classrooms",
                "description": "Lấy danh sách lớp học để tạo điểm danh",
                "request_headers": {
                    "Authorization": "Bearer {jwt_token}",
                    "Content-Type": "application/json",
                    "Accept": "application/json"
                },
                "response_success": {
                    "success": true,
                    "data": [
                        {
                            "id": 1,
                            "name": "Lớp CNTT01",
                            "code": "CNTT01",
                            "description": "Lớp Công nghệ thông tin 01",
                            "faculty_id": 1,
                            "created_at": "2024-01-15T08:00:00.000000Z",
                            "updated_at": "2024-01-15T08:00:00.000000Z",
                            "students": [
                                {
                                    "id": 1,
                                    "student_code": "SV001",
                                    "full_name": "Nguyễn Văn A",
                                    "email": "nguyenvana@example.com",
                                    "class_id": 1,
                                    "created_at": "2024-01-15T08:00:00.000000Z",
                                    "updated_at": "2024-01-15T08:00:00.000000Z"
                                },
                                {
                                    "id": 2,
                                    "student_code": "SV002",
                                    "full_name": "Trần Thị B",
                                    "email": "tranthib@example.com",
                                    "class_id": 1,
                                    "created_at": "2024-01-15T08:00:00.000000Z",
                                    "updated_at": "2024-01-15T08:00:00.000000Z"
                                }
                            ]
                        }
                    ]
                },
                "response_error": {
                    "success": false,
                    "message": "Có lỗi xảy ra khi lấy danh sách lớp học.",
                    "error": "Error message details"
                }
            },
            "2_create_roll_call": {
                "method": "POST",
                "url": "/roll-calls",
                "description": "Tạo buổi điểm danh mới cho lớp",
                "request_headers": {
                    "Authorization": "Bearer {jwt_token}",
                    "Content-Type": "application/json",
                    "Accept": "application/json"
                },
                "request_body": {
                    "class_id": 1,
                    "title": "Điểm danh buổi học ngày 15/01/2024",
                    "description": "Điểm danh môn Lập trình Web",
                    "date": "2024-01-15 08:00:00"
                },
                "response_success": {
                    "success": true,
                    "message": "Tạo buổi điểm danh thành công.",
                    "data": {
                        "id": 1,
                        "class_id": 1,
                        "title": "Điểm danh buổi học ngày 15/01/2024",
                        "description": "Điểm danh môn Lập trình Web",
                        "date": "2024-01-15T08:00:00.000000Z",
                        "status": "active",
                        "created_by": 1,
                        "created_at": "2024-01-15T08:00:00.000000Z",
                        "updated_at": "2024-01-15T08:00:00.000000Z",
                        "classroom": {
                            "id": 1,
                            "name": "Lớp CNTT01",
                            "code": "CNTT01"
                        },
                        "creator": {
                            "id": 1,
                            "full_name": "Thầy Nguyễn Văn C",
                            "email": "nguyenvanc@example.com"
                        },
                        "roll_call_details": [
                            {
                                "id": 1,
                                "roll_call_id": 1,
                                "student_id": 1,
                                "status": "absent",
                                "note": null,
                                "checked_at": null,
                                "student": {
                                    "id": 1,
                                    "student_code": "SV001",
                                    "full_name": "Nguyễn Văn A"
                                }
                            },
                            {
                                "id": 2,
                                "roll_call_id": 1,
                                "student_id": 2,
                                "status": "absent",
                                "note": null,
                                "checked_at": null,
                                "student": {
                                    "id": 2,
                                    "student_code": "SV002",
                                    "full_name": "Trần Thị B"
                                }
                            }
                        ]
                    }
                },
                "response_error": {
                    "success": false,
                    "message": "Có lỗi xảy ra khi tạo buổi điểm danh.",
                    "error": "Error message details"
                }
            },
            "3_get_roll_calls_by_class": {
                "method": "GET",
                "url": "/roll-calls/class/{classId}",
                "description": "Lấy danh sách buổi điểm danh theo lớp",
                "request_headers": {
                    "Authorization": "Bearer {jwt_token}",
                    "Content-Type": "application/json",
                    "Accept": "application/json"
                },
                "query_params": {
                    "per_page": 15
                },
                "response_success": {
                    "success": true,
                    "data": {
                        "current_page": 1,
                        "data": [
                            {
                                "id": 1,
                                "class_id": 1,
                                "title": "Điểm danh buổi học ngày 15/01/2024",
                                "description": "Điểm danh môn Lập trình Web",
                                "date": "2024-01-15T08:00:00.000000Z",
                                "status": "active",
                                "created_by": 1,
                                "created_at": "2024-01-15T08:00:00.000000Z",
                                "updated_at": "2024-01-15T08:00:00.000000Z",
                                "classroom": {
                                    "id": 1,
                                    "name": "Lớp CNTT01",
                                    "code": "CNTT01"
                                },
                                "creator": {
                                    "id": 1,
                                    "full_name": "Thầy Nguyễn Văn C",
                                    "email": "nguyenvanc@example.com"
                                }
                            }
                        ],
                        "first_page_url": "http://localhost:8000/api/v1/roll-calls/class/1?page=1",
                        "from": 1,
                        "last_page": 1,
                        "last_page_url": "http://localhost:8000/api/v1/roll-calls/class/1?page=1",
                        "links": [
                            {
                                "url": null,
                                "label": "&laquo; Previous",
                                "active": false
                            },
                            {
                                "url": "http://localhost:8000/api/v1/roll-calls/class/1?page=1",
                                "label": "1",
                                "active": true
                            },
                            {
                                "url": null,
                                "label": "Next &raquo;",
                                "active": false
                            }
                        ],
                        "next_page_url": null,
                        "path": "http://localhost:8000/api/v1/roll-calls/class/1",
                        "per_page": 15,
                        "prev_page_url": null,
                        "to": 1,
                        "total": 1
                    }
                },
                "response_error": {
                    "success": false,
                    "message": "Có lỗi xảy ra khi lấy danh sách buổi điểm danh.",
                    "error": "Error message details"
                }
            },
            "4_get_roll_call_details": {
                "method": "GET",
                "url": "/roll-calls/{id}",
                "description": "Lấy chi tiết buổi điểm danh",
                "request_headers": {
                    "Authorization": "Bearer {jwt_token}",
                    "Content-Type": "application/json",
                    "Accept": "application/json"
                },
                "response_success": {
                    "success": true,
                    "data": {
                        "id": 1,
                        "class_id": 1,
                        "title": "Điểm danh buổi học ngày 15/01/2024",
                        "description": "Điểm danh môn Lập trình Web",
                        "date": "2024-01-15T08:00:00.000000Z",
                        "status": "active",
                        "created_by": 1,
                        "created_at": "2024-01-15T08:00:00.000000Z",
                        "updated_at": "2024-01-15T08:00:00.000000Z",
                        "classroom": {
                            "id": 1,
                            "name": "Lớp CNTT01",
                            "code": "CNTT01"
                        },
                        "creator": {
                            "id": 1,
                            "full_name": "Thầy Nguyễn Văn C",
                            "email": "nguyenvanc@example.com"
                        },
                        "roll_call_details": [
                            {
                                "id": 1,
                                "roll_call_id": 1,
                                "student_id": 1,
                                "status": "present",
                                "note": "Có mặt đúng giờ",
                                "checked_at": "2024-01-15T08:05:00.000000Z",
                                "student": {
                                    "id": 1,
                                    "student_code": "SV001",
                                    "full_name": "Nguyễn Văn A",
                                    "email": "nguyenvana@example.com"
                                }
                            },
                            {
                                "id": 2,
                                "roll_call_id": 1,
                                "student_id": 2,
                                "status": "late",
                                "note": "Đến muộn 10 phút",
                                "checked_at": "2024-01-15T08:10:00.000000Z",
                                "student": {
                                    "id": 2,
                                    "student_code": "SV002",
                                    "full_name": "Trần Thị B",
                                    "email": "tranthib@example.com"
                                }
                            },
                            {
                                "id": 3,
                                "roll_call_id": 1,
                                "student_id": 3,
                                "status": "absent",
                                "note": null,
                                "checked_at": null,
                                "student": {
                                    "id": 3,
                                    "student_code": "SV003",
                                    "full_name": "Lê Văn D",
                                    "email": "levand@example.com"
                                }
                            }
                        ]
                    }
                },
                "response_error": {
                    "success": false,
                    "message": "Có lỗi xảy ra khi lấy chi tiết buổi điểm danh.",
                    "error": "Error message details"
                }
            },
            "5_update_student_status": {
                "method": "PUT",
                "url": "/roll-calls/{rollCallId}/status",
                "description": "Cập nhật trạng thái điểm danh của 1 sinh viên",
                "request_headers": {
                    "Authorization": "Bearer {jwt_token}",
                    "Content-Type": "application/json",
                    "Accept": "application/json"
                },
                "request_body": {
                    "student_id": 1,
                    "status": "present",
                    "note": "Có mặt đúng giờ"
                },
                "response_success": {
                    "success": true,
                    "message": "Cập nhật trạng thái điểm danh thành công."
                },
                "response_error": {
                    "success": false,
                    "message": "Cập nhật trạng thái điểm danh thất bại."
                }
            },
            "6_bulk_update_status": {
                "method": "PUT",
                "url": "/roll-calls/{rollCallId}/bulk-status",
                "description": "Cập nhật trạng thái điểm danh hàng loạt",
                "request_headers": {
                    "Authorization": "Bearer {jwt_token}",
                    "Content-Type": "application/json",
                    "Accept": "application/json"
                },
                "request_body": {
                    "student_statuses": [
                        {
                            "student_id": 1,
                            "status": "present",
                            "note": "Có mặt đúng giờ"
                        },
                        {
                            "student_id": 2,
                            "status": "late",
                            "note": "Đến muộn 5 phút"
                        },
                        {
                            "student_id": 3,
                            "status": "absent",
                            "note": "Không có lý do"
                        }
                    ]
                },
                "response_success": {
                    "success": true,
                    "message": "Cập nhật trạng thái điểm danh hàng loạt thành công."
                },
                "response_error": {
                    "success": false,
                    "message": "Cập nhật trạng thái điểm danh hàng loạt thất bại."
                }
            },
            "7_complete_roll_call": {
                "method": "PATCH",
                "url": "/roll-calls/{id}/complete",
                "description": "Hoàn thành buổi điểm danh",
                "request_headers": {
                    "Authorization": "Bearer {jwt_token}",
                    "Content-Type": "application/json",
                    "Accept": "application/json"
                },
                "response_success": {
                    "success": true,
                    "message": "Hoàn thành buổi điểm danh thành công."
                },
                "response_error": {
                    "success": false,
                    "message": "Hoàn thành buổi điểm danh thất bại."
                }
            },
            "8_cancel_roll_call": {
                "method": "PATCH",
                "url": "/roll-calls/{id}/cancel",
                "description": "Hủy buổi điểm danh",
                "request_headers": {
                    "Authorization": "Bearer {jwt_token}",
                    "Content-Type": "application/json",
                    "Accept": "application/json"
                },
                "response_success": {
                    "success": true,
                    "message": "Hủy buổi điểm danh thành công."
                },
                "response_error": {
                    "success": false,
                    "message": "Hủy buổi điểm danh thất bại."
                }
            },
            "9_get_statistics": {
                "method": "GET",
                "url": "/roll-calls/statistics/class/{classId}",
                "description": "Lấy thống kê điểm danh theo lớp",
                "request_headers": {
                    "Authorization": "Bearer {jwt_token}",
                    "Content-Type": "application/json",
                    "Accept": "application/json"
                },
                "query_params": {
                    "start_date": "2024-01-01",
                    "end_date": "2024-01-31"
                },
                "response_success": {
                    "success": true,
                    "data": {
                        "total_roll_calls": 10,
                        "total_students": 30,
                        "attendance_rate": 85.5,
                        "status_breakdown": {
                            "present": 200,
                            "absent": 25,
                            "late": 15,
                            "excused": 5
                        }
                    }
                },
                "response_error": {
                    "success": false,
                    "message": "Có lỗi xảy ra khi lấy thống kê điểm danh.",
                    "error": "Error message details"
                }
            },
            "10_get_students_for_roll_call": {
                "method": "GET",
                "url": "/roll-calls/students/class/{classId}",
                "description": "Lấy danh sách sinh viên trong lớp để điểm danh",
                "request_headers": {
                    "Authorization": "Bearer {jwt_token}",
                    "Content-Type": "application/json",
                    "Accept": "application/json"
                },
                "response_success": {
                    "success": true,
                    "data": [
                        {
                            "id": 1,
                            "student_code": "SV001",
                            "full_name": "Nguyễn Văn A",
                            "email": "nguyenvana@example.com",
                            "class_id": 1,
                            "created_at": "2024-01-15T08:00:00.000000Z",
                            "updated_at": "2024-01-15T08:00:00.000000Z",
                            "account": {
                                "id": 1,
                                "username": "nguyenvana",
                                "email": "nguyenvana@example.com",
                                "is_active": true
                            }
                        },
                        {
                            "id": 2,
                            "student_code": "SV002",
                            "full_name": "Trần Thị B",
                            "email": "tranthib@example.com",
                            "class_id": 1,
                            "created_at": "2024-01-15T08:00:00.000000Z",
                            "updated_at": "2024-01-15T08:00:00.000000Z",
                            "account": {
                                "id": 2,
                                "username": "tranthib",
                                "email": "tranthib@example.com",
                                "is_active": true
                            }
                        }
                    ]
                },
                "response_error": {
                    "success": false,
                    "message": "Có lỗi xảy ra khi lấy danh sách sinh viên.",
                    "error": "Error message details"
                }
            }
        },
        "status_values": {
            "roll_call_status": ["active", "completed", "cancelled"],
            "student_attendance_status": [
                "present",
                "absent",
                "late",
                "excused"
            ]
        },
        "error_responses": {
            "401_unauthorized": {
                "success": false,
                "message": "Unauthorized",
                "error": "Token không hợp lệ hoặc đã hết hạn"
            },
            "403_forbidden": {
                "success": false,
                "message": "Forbidden",
                "error": "Bạn không có quyền truy cập API này"
            },
            "422_validation_error": {
                "success": false,
                "message": "The given data was invalid.",
                "errors": {
                    "class_id": ["The class id field is required."],
                    "title": ["The title field is required."],
                    "date": ["The date field is required."]
                }
            },
            "500_server_error": {
                "success": false,
                "message": "Có lỗi xảy ra khi xử lý yêu cầu.",
                "error": "Internal server error details"
            }
        }
    }
}
