{
    "info": {
        "name": "Roll Call API - Postman Collection",
        "description": "Collection để test API điểm danh sinh viên"
    },
    "auth": {
        "type": "bearer",
        "bearer": [
            {
                "key": "token",
                "value": "{{jwt_token}}",
                "type": "string"
            }
        ]
    },
    "variable": [
        {
            "key": "base_url",
            "value": "http://your-domain.com/api/v1",
            "type": "string"
        },
        {
            "key": "jwt_token",
            "value": "your_jwt_token_here",
            "type": "string"
        }
    ],
    "item": [
        {
            "name": "1. Login để lấy JWT Token",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n  \"username\": \"admin\",\n  \"password\": \"password\"\n}"
                },
                "url": {
                    "raw": "{{base_url}}/login",
                    "host": ["{{base_url}}"],
                    "path": ["login"]
                }
            }
        },
        {
            "name": "2. Lấy danh sách lớp học",
            "request": {
                "method": "GET",
                "header": [
                    {
                        "key": "Authorization",
                        "value": "Bearer {{jwt_token}}"
                    }
                ],
                "url": {
                    "raw": "{{base_url}}/roll-calls/classrooms",
                    "host": ["{{base_url}}"],
                    "path": ["roll-calls", "classrooms"]
                }
            }
        },
        {
            "name": "3. Tạo buổi điểm danh mới",
            "request": {
                "method": "POST",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    },
                    {
                        "key": "Authorization",
                        "value": "Bearer {{jwt_token}}"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n  \"class_id\": 1,\n  \"title\": \"Điểm danh lớp CNTT01 - 17/09/2025\",\n  \"description\": \"Buổi điểm danh sáng thứ 3\",\n  \"date\": \"2025-09-17T08:00:00\",\n  \"created_by\": 1\n}"
                },
                "url": {
                    "raw": "{{base_url}}/roll-calls",
                    "host": ["{{base_url}}"],
                    "path": ["roll-calls"]
                }
            }
        },
        {
            "name": "4. Lấy danh sách buổi điểm danh theo lớp",
            "request": {
                "method": "GET",
                "header": [
                    {
                        "key": "Authorization",
                        "value": "Bearer {{jwt_token}}"
                    }
                ],
                "url": {
                    "raw": "{{base_url}}/roll-calls/class/1?per_page=15",
                    "host": ["{{base_url}}"],
                    "path": ["roll-calls", "class", "1"],
                    "query": [
                        {
                            "key": "per_page",
                            "value": "15"
                        }
                    ]
                }
            }
        },
        {
            "name": "5. Lấy chi tiết buổi điểm danh",
            "request": {
                "method": "GET",
                "header": [
                    {
                        "key": "Authorization",
                        "value": "Bearer {{jwt_token}}"
                    }
                ],
                "url": {
                    "raw": "{{base_url}}/roll-calls/1",
                    "host": ["{{base_url}}"],
                    "path": ["roll-calls", "1"]
                }
            }
        },
        {
            "name": "6. Cập nhật trạng thái điểm danh (1 sinh viên)",
            "request": {
                "method": "PUT",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    },
                    {
                        "key": "Authorization",
                        "value": "Bearer {{jwt_token}}"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n  \"student_id\": 1,\n  \"status\": \"Có Mặt\",\n  \"note\": \"Có mặt đúng giờ\"\n}"
                },
                "url": {
                    "raw": "{{base_url}}/roll-calls/1/status",
                    "host": ["{{base_url}}"],
                    "path": ["roll-calls", "1", "status"]
                }
            }
        },
        {
            "name": "7. Cập nhật trạng thái điểm danh (hàng loạt)",
            "request": {
                "method": "PUT",
                "header": [
                    {
                        "key": "Content-Type",
                        "value": "application/json"
                    },
                    {
                        "key": "Authorization",
                        "value": "Bearer {{jwt_token}}"
                    }
                ],
                "body": {
                    "mode": "raw",
                    "raw": "{\n  \"student_statuses\": [\n    {\n      \"student_id\": 1,\n      \"status\": \"Có Mặt\",\n      \"note\": \"Có mặt đúng giờ\"\n    },\n    {\n      \"student_id\": 2,\n      \"status\": \"Muộn\",\n      \"note\": \"Muộn 5 phút\"\n    },\n    {\n      \"student_id\": 3,\n      \"status\": \"Vắng Mặt\",\n      \"note\": \"Vắng không phép\"\n    },\n    {\n      \"student_id\": 4,\n      \"status\": \"Có Phép\",\n      \"note\": \"Có giấy phép\"\n    }\n  ]\n}"
                },
                "url": {
                    "raw": "{{base_url}}/roll-calls/1/bulk-status",
                    "host": ["{{base_url}}"],
                    "path": ["roll-calls", "1", "bulk-status"]
                }
            }
        },
        {
            "name": "8. Hoàn thành buổi điểm danh",
            "request": {
                "method": "PATCH",
                "header": [
                    {
                        "key": "Authorization",
                        "value": "Bearer {{jwt_token}}"
                    }
                ],
                "url": {
                    "raw": "{{base_url}}/roll-calls/1/complete",
                    "host": ["{{base_url}}"],
                    "path": ["roll-calls", "1", "complete"]
                }
            }
        },
        {
            "name": "9. Hủy buổi điểm danh",
            "request": {
                "method": "PATCH",
                "header": [
                    {
                        "key": "Authorization",
                        "value": "Bearer {{jwt_token}}"
                    }
                ],
                "url": {
                    "raw": "{{base_url}}/roll-calls/1/cancel",
                    "host": ["{{base_url}}"],
                    "path": ["roll-calls", "1", "cancel"]
                }
            }
        },
        {
            "name": "10. Thống kê điểm danh theo lớp",
            "request": {
                "method": "GET",
                "header": [
                    {
                        "key": "Authorization",
                        "value": "Bearer {{jwt_token}}"
                    }
                ],
                "url": {
                    "raw": "{{base_url}}/roll-calls/statistics/class/1?start_date=2025-09-01&end_date=2025-09-30",
                    "host": ["{{base_url}}"],
                    "path": ["roll-calls", "statistics", "class", "1"],
                    "query": [
                        {
                            "key": "start_date",
                            "value": "2025-09-01"
                        },
                        {
                            "key": "end_date",
                            "value": "2025-09-30"
                        }
                    ]
                }
            }
        },
        {
            "name": "11. Lấy danh sách sinh viên trong lớp",
            "request": {
                "method": "GET",
                "header": [
                    {
                        "key": "Authorization",
                        "value": "Bearer {{jwt_token}}"
                    }
                ],
                "url": {
                    "raw": "{{base_url}}/roll-calls/students/class/1",
                    "host": ["{{base_url}}"],
                    "path": ["roll-calls", "students", "class", "1"]
                }
            }
        }
    ]
}
